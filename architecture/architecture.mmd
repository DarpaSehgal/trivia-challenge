graph TB
    Users[ðŸ‘¥ Users] --> CloudFront[â˜ï¸ CloudFront CDN]
    
    subgraph "AWS Cloud"
        subgraph "Global Services"
            CloudFront --> S3[ðŸ“¦ S3 Frontend]
            Cognito[ðŸ” Cognito User Pool]
        end
        
        subgraph "VPC us-west-2"
            subgraph "Public Subnets"
                IGW[ðŸŒ Internet Gateway]
                NAT[ðŸ”„ NAT Gateway]
            end
            
            subgraph "Private Subnets"
                Lambda1[âš¡ trivia-game Lambda]
                Lambda2[âš¡ question-preloader Lambda]
                Valkey[ðŸ’¾ Valkey Cache]
            end
            
            API[ðŸ”Œ API Gateway]
        end
        
        subgraph "Monitoring"
            CloudWatch[ðŸ“Š CloudWatch]
            SNS[ðŸ“¢ SNS Alerts]
        end
    end
    
    subgraph "External"
        OpenTDB[ðŸŒ OpenTDB API]
    end
    
    %% Connections
    CloudFront --> API
    API --> Lambda1
    Lambda1 --> Valkey
    Lambda1 --> Cognito
    Lambda1 --> NAT
    Lambda2 --> NAT
    NAT --> IGW
    IGW --> OpenTDB
    Lambda2 --> Valkey
    Lambda1 --> CloudWatch
    CloudWatch --> SNS
    Valkey --> CloudWatch
    
    %% Styling
    classDef aws fill:#FF9900,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef compute fill:#F58536,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef storage fill:#3F48CC,stroke:#232F3E,stroke-width:2px,color:#fff
    classDef network fill:#8C4FFF,stroke:#232F3E,stroke-width:2px,color:#fff
    
    class CloudFront,API,IGW,NAT network
    class Lambda1,Lambda2 compute
    class S3,Valkey storage
    class Cognito,CloudWatch,SNS aws